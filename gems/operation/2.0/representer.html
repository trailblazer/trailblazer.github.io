<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Trailblazer: Operation Representer</title>
<meta name="description" content="Operation Representer - Trailblazer">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content=", ">

<!-- style -->
<link rel="shortcut icon" href="/favicon.ico">
<link href="//fonts.googleapis.com/css?family=Open+Sans:300,%20400,700,800%7CRaleway:400,200,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="/css/application.css">

<!-- script -->
<script src="/javascripts/jquery.min.js"></script>
<script src="/javascripts/application.min.js"></script>
<script>
  jQuery(document).ready(function($) {
    $(document).foundation();

    anchors.add("article h2");
    anchors.add("article h3");

    hljs.configure({
      languages: ['ruby', 'haml']
    });

    hljs.initHighlightingOnLoad();

    // $('#code-slider').slick({arrows: true, dots: true});
    $('.carousel').slick({arrows: true, dots: true});
  });
</script>


<meta property="og:title" content="Operation Representer">
<meta property="og:site_name" content="Trailblazer">
<meta property="og:url" content="http://trailblazer.to/gems/operation/2.0/representer.html">
<meta property="og:description" content="">
<meta property="og:image" content="http://trailblazer.to/images/go-trailblazer.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@apotonick">
<meta name="twitter:title" content="Operation Representer">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="http://trailblazer.to/images/go-trailblazer.jpg">

  </head>
  <body>

    <div data-sticky-container class="top-navbar">
  <div class="top-bar sticky" data-sticky data-options="marginTop:0;" style="width:100%">
    <div class="top-bar-title">
      <ul class="menu horizontal">
        <li>
          <a href="/"><img style="height: 25px;" src="/images/logo-top.svg"></a>
        </li>
        <li>
        <span data-responsive-toggle="responsive-menu" data-hide-for="medium">
          <button class="menu-icon" type="button" data-toggle></button>
        </span>
        </li>
      </ul>
    </div>

    <div id="responsive-menu">
      <div class="top-bar-right">
        <ul class="dropdown menu     vertical medium-horizontal" data-dropdown-menu>
          <li><a href="/gems/operation/2.0/release_notes.html">TRB 2.O IS COMING!</a></li>
          <li><a href="https://trbpro.herokuapp.com/">PREMIUM SUPPORT <img alt="Premium Support" src="/images/pro-white.png"></a></li>
          <li><a href="/newsletter/">NEWSLETTER</a></li>
          <li><a href="https://gitter.im/trailblazer/chat" onclick="trackOutboundLink('https://gitter.im/trailblazer/chat'); return false;">CHAT</a></li>
          <li><a href="/guides">GUIDES</a></li>
          <li>
            <a href="#">GEMS</a>
            <ul class="menu vertical">
              <li class=""><a href="/gems/cells">CELLS</a></li>
              <li class=""><a href="/gems/operation/index.html">OPERATION</a></li>
              <li class=""><a href="/gems/reform">REFORM</a></li>
              <li class=""><a href="/gems/representable">REPRESENTABLE</a></li>
              <li class=""><a href="/gems/roar">ROAR</a></li>
              <li class=""><a href="/gems/disposable">DISPOSABLE</a></li>
            </ul>
          </li>
          <li>
            <a href="https://leanpub.com/trailblazer" class="button secondary" onclick="trackOutboundLink('https://leanpub.com/trailblazer'); return false;">GET THE BOOK</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>


    <!-- Hero -->
<div class="hero gems-hero operation2-hero">
  <div class="hero-unit">
    <div class="expanded row">
      <div class="columns">
        <h1 id="project_title">
          Operation
        </h1>
      </div>
    </div>
  </div>
</div>


    <div class="expanded row">
      <div class="medium-9 large-10 medium-push-3 large-push-2 columns">
        <article class="operation2-body">

          
            <header id="doc-header">
  <h1 class="doc-page-title">Operation Representer</h1>
  <span class="doc-last-updated"><i class="fa fa-clock-o" aria-hidden="true"></i> Last updated 04 December 2016</span>

  
    <span class="doc-last-updated">
      <i class="fa fa-diamond" aria-hidden="true"></i>
      <a href="https://github.com/trailblazer/trailblazer">trailblazer</a>

      <a href="/gems/operation/2.0/representer.html">
      <span class="version">v2.0</span>
      </a>

    
      <a href="/gems/operation/1.1/representer.html">
        <span class="version other">v1.1</span>
      </a>
    

    </span>
  

  <hr>

</header>

          

          <div class="row"> <!-- nach doc header -->
            <div class="large-9 columns" id="docs">   <!-- actual docs -->
              <p>Representers help to parse and render documents for JSON or XML APIs.</p>

<p>After defining a representer, it can either parse an incoming document into an object graph, or, the other way round, serialize a nested object into a document.</p>

<p>You can use representers from the <a href="/gems/representable">Representable</a> gem with your operations.</p>

<p>Check the <a href="#full-example">→ full example</a> for a quick overview.</p>

<div class="callout secondary">
  <p>
    Parsing needs Representable &gt;= 3.0.2.
  </p>
</div>

<h2 id="parsing-introduction" data-magellan-target="parsing-introduction">Parsing: Introduction</h2>

<p>In Trailblazer, the normal workflow is to deserialize (parse) incoming data into an object graph, then validate this data structure, then persist parts of it. Transforming the incoming data into one or many objects is done by a representer.</p>

<p>Normally, this happens internally in the Reform object, which receives the data in <code class="highlighter-rouge">validate</code> and then uses an automatically infered representer to parse the data onto itself.</p>

<p>However, let’s discuss representers first and ignore the validation layer.</p>

<p>What the representer does and how it interacts with the contract (or any Ruby object) can be explained in a simple example.</p>

<p>Imagine the following incoming <strong>document</strong> from a form submission.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"title"</span><span class="w"> </span><span class="err">=&gt;</span><span class="w"> </span><span class="nt">"Let Them Eat War"</span><span class="err">,</span><span class="w">
  </span><span class="nt">"band"</span><span class="w">  </span><span class="err">=&gt;</span><span class="w"> </span><span class="nt">"Bad Religion"</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>
</div>

<p>In this case the document is a hash, but Representable allows parsing JSON, XML and YAML, too.</p>

<p>To process this document a <strong>representer</strong> must be defined.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>class SongRepresenter &lt; Representable::Decorator
  include Representable::Hash # the document format.

  property :title
  property :band
end
</code></pre>
</div>

<p>Representers are provided by the Representable and Roar gems. They look a lot like contracts, but define the structure of the documents, only, no semantics or validations.</p>

<p>When parsing, the representer simply traverses the document and writes every known attribute to the <strong>represented object</strong>. The latter can be any kind of object, it only has to expose property setters.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>Song = Struct.new(:title, :band)
</code></pre>
</div>

<p>While you will usually use models (e.g. <code class="highlighter-rouge">ActiveRecord</code>) or contracts with representers, a simple struct is sufficient for explaining.</p>

<p>Parsing the document onto a <code class="highlighter-rouge">Song</code> instance is very straight-forward.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>input = { "title" =&gt; "Let Them Eat War", "band" =&gt; "Bad Religion" }

song  = Song.new # this doesn't have to be an empty object.

SongRepresenter.new(song).from_hash(input)
</code></pre>
</div>

<p>In pseudo-code, the representer literally only walks through the hash and assigns values to the model.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code># SongRepresenter#from_hash
  song.title = input["title"]
  song.band  = input["band"]
</code></pre>
</div>

<p>After the parsing, your represented model is populated with the values.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>song.title #=&gt; "Let Them Eat War"
song.band  #=&gt; "Bad Religion"
</code></pre>
</div>

<p>Representers increasingly make sense with documents differing from your models, for complex media formats such as JSON API, and also for nested documents.</p>

<h2 id="parsing-nesting" data-magellan-target="parsing-nesting">Parsing: Nesting</h2>

<p>While one-level parsing might appear trivial and easily solveable using mechanisms such as <code class="highlighter-rouge">update_attributes</code> and Rails’ automatic parsed <code class="highlighter-rouge">params</code> hash, the deserialization process gets more complicated with nested fragments and models.</p>

<p>Let’s assume the <code class="highlighter-rouge">band:</code> property should now be a dedicated object. Here’s the new <strong>document</strong>.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"title"</span><span class="w"> </span><span class="err">=&gt;</span><span class="w"> </span><span class="nt">"Let Them Eat War"</span><span class="err">,</span><span class="w">
  </span><span class="nt">"band"</span><span class="w">  </span><span class="err">=&gt;</span><span class="w"> </span><span class="err">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="err">=&gt;</span><span class="w"> </span><span class="nt">"Bad Religion"</span><span class="w">
  </span><span class="err">}</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>
</div>

<p>When parsing this document, a new <code class="highlighter-rouge">Band</code> object should be created, attached to the song, and assigned a name.</p>

<p>Again, the <code class="highlighter-rouge">Band</code> <strong>model</strong> could be provided by any ORM, or simply be a struct.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>Band = Struct.new(:name)
</code></pre>
</div>

<p>The <strong>representer</strong> to implement parsing and creating looks as follows.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>class SongRepresenter &lt; Representable::Decorator
  include Representable::Hash # the document format.

  property :title
  property :band, class: Band do
    property :name
  end
end
</code></pre>
</div>

<p>The <code class="highlighter-rouge">class:</code> option is the easiest way to tell a representer to create an object for a nested fragment. This is called <em>population</em> and deserves <a href="/gems/representable/populator.html">its own documentation section</a> as it exposes a few ways, such as find-or-create, instantiate, and so on.</p>

<p>Parsing the nested document will now result in a nested object graph.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>input = { "title" =&gt; "Let Them Eat War", "band" =&gt; { "name" =&gt; "Bad Religion" } }

song  = Song.new # this doesn't have to be an empty object.

SongRepresenter.new(song).from_hash(input)
</code></pre>
</div>

<p>The representer will deserialize the nested fragment into its own model, the way you specified (or override) it.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>song.title #=&gt; "Let Them Eat War"
song.band  #=&gt; #&lt;struct Band name="Bad Religion"&gt;
song.band.name #=&gt; "Bad Religion"
</code></pre>
</div>

<p>As you can see, all the representer does when parsing is following its specified schema, assign property values to the model or creating/finding nested models, which it recurses then onto.</p>

<p>TODO: link to populator docs.</p>

<h2 id="parsing-with-contract" data-magellan-target="parsing-with-contract">Parsing with Contract</h2>

<p>The aforementioned parsing also works against a Reform contract instead of a pure model. Consider the following contract.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>class SongContract &lt; Reform::Form
  property :title
  property :band

  validates :title, presence: true
  validates :band, presence: true
end
</code></pre>
</div>

<p>To validate this contract, you actually pass it a <em>document</em>.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>input = { "title" =&gt; "Let Them Eat War", "band" =&gt; "Bad Religion" }

SongContract.new(song).validate(input)
</code></pre>
</div>

<p>The only real difference to the above examples is that Reform will validate itself after the deserialization. In other words: In <code class="highlighter-rouge">validate</code>, Reform uses a representer to deserialize the document to itself, then runs its validation logic.</p>

<div class="row colums text-center">
<p>
  <img src="/images/diagrams/reform-architecture.png">
</p>
</div>

<p><a href="/gems/reform">→ Reform’s architecture docs</a> talk about this in detail.</p>

<p>Reform infers this representer (or <em>deserializer</em>) automatially in <code class="highlighter-rouge">validate</code> and that is fine for most HTML forms where the contract schema and form layout are identical. In document APIs, whatsoever, the documents format often doesn’t match 1-to-1 with the contract’s schema. For example, when validating input in a JSON API system.</p>

<p>This is where you can specify your own representer to be used against the contract.</p>

<div class="callout secondary">
  <p>
    The idea is to decouple the validation (contract) from the document structure (representer). A contract shouldn't be aware of the environment it is being used in, and the representer mustn't have any knowledge about validations and the underlying persistence layer.
  </p>
</div>

<p>How that is done is discussed in the following sections.</p>

<h2 id="parsing-explicit" data-magellan-target="parsing-explicit">Parsing: Explicit</h2>

<p>Instead of using Reform’s automatic representer to deserialize the incoming document, the <code class="highlighter-rouge">Contract::Validate</code> macro allows you to specify a different representer.</p>

<p>This requires a representer class.</p>

<pre><code>class MyRepresenter &lt; Representable::Decorator
  include Representable::JSON
  property :id
end
</code></pre>

<p>While this representer could be used stand-alone, the operation helps you to leverage it for parsing.</p>

<pre><code>class Create &lt; Trailblazer::Operation
  class MyContract &lt; Reform::Form
    property :id
  end
  
  step Model( Song, :new )
  step Contract::Build( constant: MyContract )
  step Contract::Validate( representer: MyRepresenter ) # :representer
  step Contract::Persist( method: :sync )
end
</code></pre>

<p>In the <code class="highlighter-rouge">Validate</code> macro, the <code class="highlighter-rouge">representer:</code> option will set the specified representer for deserialization. Note that the contract can also be an inline contract.</p>

<p>You may now pass a JSON document instead of a hash into the operation’s call.</p>

<pre><code>Create.({}, "document" =&gt; '{"id": 1}')
</code></pre>

<p>This parses the JSON document and the representer will assign the property values and objects to the contract. Afterwards, the contract validates itself with the normal mechanics.</p>

<p>In fact, the contract doesn’t even know its data was parsed from a JSON or XML document.</p>

<h2 id="parsing-inline-representer" data-magellan-target="parsing-inline-representer">Parsing: Inline Representer</h2>

<p>If you quickly want to try a representer or you’re facing a small amount of properties, only, you can use an inline representer.</p>

<pre><code>class Create &lt; Trailblazer::Operation
  class MyContract &lt; Reform::Form
    property :id
  end
  
  extend Representer::DSL
  
  representer do
    property :id
  end
  
  step Model( Song, :new )
  step Contract::Build( constant: MyContract )
  step Contract::Validate( representer: self["representer.default.class"] )
  step Contract::Persist( method: :sync )
end
</code></pre>

<p>The behavior is identical to referencing the representer class constant.</p>

<h2 id="parsing-infer" data-magellan-target="parsing-infer">Parsing: Infer</h2>

<p>A representer can also be infered from the contract’s schema. All you need to do is define the format, e.g. <code class="highlighter-rouge">Representable::JSON</code>.</p>

<pre><code>class Create &lt; Trailblazer::Operation
  class MyContract &lt; Reform::Form
    property :id
  end
  
  step Model( Song, :new )
  step Contract::Build( constant: MyContract )
  step Contract::Validate( representer: Representer.infer(MyContract, format: Representable::JSON) )
  step Contract::Persist( method: :sync )
end
</code></pre>

<p>The <code class="highlighter-rouge">Operation::Representer.infer</code> method will return a representer class.</p>

<h2 id="parsing-dependency-injection" data-magellan-target="parsing-dependency-injection">Parsing: Dependency Injection</h2>

<p>You can override the parsing representer when calling the operation with dependency injection. This allows things like exchanging the representer to parse other document formats, such as XML.</p>

<pre><code>require "representable/xml"
  
class MyXMLRepresenter &lt; Representable::Decorator
  include Representable::XML
  property :id
end
</code></pre>

<p>The representer can be injected using Trailblazer’s well-defined injection interface.</p>

<pre><code>result = Create.({},
  "document" =&gt; '&lt;body&gt;&lt;id&gt;1&lt;/id&gt;&lt;/body&gt;',
  "representer.default.class" =&gt; MyXMLRepresenter # injection
)
</code></pre>

<p>Note how the XML representer replaces the built-in JSON representer and can parse the XML document to the contract. The latter doesn’t know anything about the swapped documents.</p>

<h2 id="naming" data-magellan-target="naming">Naming</h2>

<p>Without a name specified, the representer will be named <code class="highlighter-rouge">default</code>.</p>

<pre><code>class Create &lt; Trailblazer::Operation
  extend Representer::DSL
  representer MyRepresenter
end
  
Create["representer.default.class"] #=&gt; MyRepresenter
</code></pre>

<p>To maintain multiple representers per operation, you may name them.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>representer :parse, MyRepresenter
representer :errors, ErrorsRepresenter
</code></pre>
</div>

<p>They are now accessable via their named path.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>Create["representer.parse.class"] #=&gt; MyRepresenter
</code></pre>
</div>

<h2 id="rendering-introduction" data-magellan-target="rendering-introduction">Rendering: Introduction</h2>

<p>In a document API system, after processing the operation, you usually want to render a response document. While you could use something like <code class="highlighter-rouge">ActiveModel::Serializer</code> for this, it makes sense to reuse a representer.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>class SongRepresenter &lt; Representable::Decorator
  include Representable::JSON # the document format.

  property :title
  property :band
end
</code></pre>
</div>

<p>Given the following model.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>song  #=&gt; #&lt;struct Song title="Let Them Eat War" band="Bad Religion"&gt;
</code></pre>
</div>

<p>The mechanics when rendering are very similar to what happens when parsing.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>SongRepresenter.new(song).to_json #=&gt; '{"title":"Let Them Eat War","band": "Bad Religion"}'
</code></pre>
</div>

<p>In pseudo-code, the representer literally only walks through its schema, asks the model for the property values and serializes them into a document.</p>

<div class="highlighter-rouge">
<pre class="highlight"><code># SongRepresenter#to_json
  json = {}
  json[:title] = song.title
  json[:band]  = song.band
  json.to_json
</code></pre>
</div>

<p>Representers are very helpful when introducing media formats such as HAL or JSON API, or when having to render complex XML documents from a nested object graph. The only requirement they have are the model’s readers.</p>

<p>Go and read a bit about <a href="/gems/representable">Representable</a> to learn more about mapping, aliases, media formats, and more.</p>

<h2 id="rendering-example" data-magellan-target="rendering-example">Rendering: Example</h2>

<p>Rendering a document after the operation finished is part of the presentation layer, which should <em>not</em> happen inside the operation itself. Serializing a document is to happen where the operation was called, such as a controller.</p>

<p>However, you may use the result object to grab representers and models.</p>

<pre><code>result = Create.({}, "document" =&gt; '{"id": 1}')
json   = result["representer.default.class"].new(result["model"]).to_json
json #=&gt; '{"id":1}'
</code></pre>

<p>Luckily, <a href="endpoint.html"><code class="highlighter-rouge">Endpoint</code></a> and <code class="highlighter-rouge">respond</code> in Rails controllers help you with this.</p>

<h2 id="full-example" data-magellan-target="full-example">Full Example</h2>

<p>Often, an operation will maintain multiple representers, e.g. for parsing, to render into a specific media format, and to handle error cases.</p>

<p>You could have a generic errors representer.</p>

<pre><code>class ErrorsRepresenter &lt; Representable::Decorator
  include Representable::JSON
  collection :errors
end
</code></pre>

<p>Using naming, the operation may then contain several representers.</p>

<pre><code>class Create &lt; Trailblazer::Operation
  extend Contract::DSL
  extend Representer::DSL
  
  contract do
    property :title
    validates :title, presence: true
  end
  
  representer :parse do
    property :title
  end
  
  representer :render do
    include Roar::JSON::HAL
  
    property :id
    property :title
    link(:self) { "/songs/#{represented.id}" }
  end
  
  representer :errors, ErrorsRepresenter # explicit reference.
  
  step Model( Song, :new )
  step Contract::Build()
  step Contract::Validate( representer: self["representer.parse.class"] )
  step Contract::Persist( method: :sync )
end
</code></pre>

<p>Note that you don’t even have to hook those representers into the operation class - this is a convention for structuring.</p>

<p>An exemplary controller method to handle both outcomes could look like the following snippet.</p>

<pre><code>def create
  result = Create.(params, "document" =&gt; request.body.read)
  
  if result.success?
    result["representer.render.class"].new(result["model"]).to_json
  else
    result["representer.errors.class"].new(result["result.contract.default"]).to_json
  end
end
</code></pre>

<p>Make sure to check out <a href="endpoint.html">Endpoint</a> which bundles the most common outcomes for you and is easily extendable.</p>

            </div>

            <div class="large-3 columns sticky-container" data-sticky-container>

              
                <nav class="sticky columns docs-toc-wrap sticky is-anchored is-at-top side-nav" data-sticky data-anchor="docs" data-sticky-on="large" data-margin-top="5">
  
        <ul class="vertical menu" data-magellan id="page-toc">
          <li class="page-toc-heading">ON THIS PAGE:</li>
          <li><a href="#parsing-introduction">Parsing: Introduction</a></li>
<li><a href="#parsing-nesting">Parsing: Nesting</a></li>
<li><a href="#parsing-with-contract">Parsing with Contract</a></li>
<li><a href="#parsing-explicit">Parsing: Explicit</a></li>
<li><a href="#parsing-inline-representer">Parsing: Inline Representer</a></li>
<li><a href="#parsing-infer">Parsing: Infer</a></li>
<li><a href="#parsing-dependency-injection">Parsing: Dependency Injection</a></li>
<li><a href="#naming">Naming</a></li>
<li><a href="#rendering-introduction">Rendering: Introduction</a></li>
<li><a href="#rendering-example">Rendering: Example</a></li>
<li><a href="#full-example">Full Example</a></li>
        </ul>
      
</nav>

              

            </div>
          </div>
        </article>
      </div>

      <div class="medium-3 large-2 medium-pull-9 large-pull-10 columns">
        <ul class="vertical menu side-nav">
    <li class="heading">
        <a href="/gems/operation/index.html">
            <i class="fa fa-caret-square-o-right" aria-hidden="true"></i> OPERATION
        </a>
    </li>
    <li><a href="/gems/operation/api.html">API</a></li>
    <li><a href="/gems/operation/contract.html">Contract</a></li>
    <li><a href="/gems/operation/builder.html">Builder</a></li>
    <li><a href="/gems/operation/collection.html">Collection</a></li>
    <li><a href="/gems/operation/callback.html">Callback</a></li>
    <li><a href="/gems/operation/controller.html"><strike>Controller</strike><span class="sidebar-info">v1.1</span></a></li>
    <li><a href="/gems/operation/representer.html">Representer</a></li>
    <li><a href="/gems/operation/model.html">Model</a></li>
    <li><a href="/gems/operation/policy.html">Policy</a></li>
<!--     <li><a href="/gems/operation/2.0/pipetree.html">Pipetree</a></li>
 -->
    <li><a href="/gems/operation/2.0/endpoint.html">Endpoint</a></li>
    <li class="divider">

    <li class="heading">
        <a href="/gems/trailblazer/index.html">
            <i class="fa fa-caret-square-o-right" aria-hidden="true"></i> TRAILBLAZER
        </a>
    </li>
    <li><a href="/gems/trailblazer/2.0/rails.html">Rails</a></li>
    <li><a href="/gems/trailblazer/loader.html">Loader</a></li>
    <li class="divider">

    <li class="heading">
        <a href="/gems/cells">
            <i class="fa fa-caret-square-o-right" aria-hidden="true"></i> CELLS
        </a>
    </li>
    <li><a href="/gems/cells/getting-started.html">Getting Started<span class="sidebar-info">NEW</span></a></li>
    <li><a href="/gems/cells/api.html">API</a></li>
    <li><a href="/gems/cells/trailblazer.html">Trailblazer::Cell</a></li>
    <li><a href="/gems/cells/testing.html">Testing</a></li>
    <li><a href="/gems/cells/render.html">Rendering</a></li>
    <li><a href="/gems/cells/rails.html">Rails</a></li>
    <li><a href="/gems/cells/templates.html">Templates</a></li>
    <li><a href="/gems/cells/troubleshooting.html">Troubleshooting</a></li>
    <li class="divider">

    <li class="heading">
        <a href="/gems/reform">
            <i class="fa fa-caret-square-o-right" aria-hidden="true"></i> REFORM
        </a>
    </li>
    <li><a href="/gems/reform/api.html">API</a></li>
    <li><a href="/gems/reform/options.html">Options</a></li>
    <li><a href="/gems/reform/data-types.html">Data Types</a></li>
    <li><a href="/gems/reform/populator.html">Populator</a></li>
    <li><a href="/gems/reform/prepopulator.html">Prepopulator</a></li>
    <li><a href="/gems/reform/validation.html">Validation</a></li>
    <li><a href="/gems/reform/rails.html">Rails</a></li>
    <li><a href="/gems/reform/debugging.html">Debugging</a></li>
    <li><a href="/gems/reform/upgrading-guide.html">Upgrading Guide</a></li>
    <li class="divider">

    <li class="heading">
        <a href="/gems/representable">
            <i class="fa fa-caret-square-o-right" aria-hidden="true"></i> REPRESENTABLE
        </a>
    </li>
    <li><a href="/gems/representable/getting-started.html">Getting Started</a></li>
    <li><a href="/gems/representable/3.0/api.html">API</a></li>
    <li><a href="/gems/representable/3.0/function-api.html">Function API</a></li>
    <li><a href="/gems/representable/3.0/populator.html">Populator</a></li>
    <!-- <li><a href="/gems/representable/architecture.html">Architecture</a></li> -->
    <li><a href="/gems/representable/3.0/xml.html">XML</a></li>
    <li><a href="/gems/representable/3.0/yaml.html">YAML</a></li>
    <li><a href="/gems/representable/upgrading-guide.html">Upgrading Guide</a></li>
    <li class="divider">

    <li class="heading">
        <a href="/gems/roar">
            <i class="fa fa-caret-square-o-right" aria-hidden="true"></i> ROAR
        </a>
    </li>
    <li><a href="/gems/roar/jsonapi.html">JSON API</a></li>
    <li class="divider">

    <li class="heading">
        <a href="/gems/disposable">
            <i class="fa fa-caret-square-o-right" aria-hidden="true"></i> DISPOSABLE
        </a>
    </li>
    <li><a href="/gems/disposable/api.html">API</a></li>
    <li><a href="/gems/disposable/default.html">Default</a></li>
    <li><a href="/gems/disposable/callback.html">Callback</a></li>
    <li class="divider">

    <li class="heading">
        <a href="/guides">
            <i class="fa fa-caret-square-o-right" aria-hidden="true"></i> GUIDES
        </a>
    </li>
    <li><a href="/guides/trailblazer-in-20-minutes.html">Trailblazer In 20 Minutes</a></li>
    <li><a href="/guides/getting-started.html">Getting Started</a></li>
    <li><a href="/guides/sinatra/getting-started.html">Sinatra</a></li>
    <li><a href="/guides/grape.html">Grape</a></li>
</ul>

      </div>
    </div>


    <section class="top-footer">
  <div class="row">
    <div class="columns medium-6">
      <h3>Newsletter</h3>
      <p>
        Stay on top of what’s happening in Trailblazer.
      </p>
        <div class="row">
          <div id="mc_embed_signup">
            <form action="//trailblazerb.us8.list-manage.com/subscribe/post?u=bbe5021ab6fbdc94a16f0d036&amp;id=a69f6e4652" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>

              <div class="columns large-9 medium-12 ">
                <div class="row collapse prefix-radius">
                  <div class="small-8 medium-7 large-8 columns">
                    <div id="mc_embed_signup_scroll">
                      <div class="mc-field-group">
                        <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="youremail@trailblazer.to">
                      </div>
                      <div id="mce-responses" class="clear">
                        <div class="response" id="mce-error-response" style="display:none"></div>
                        <div class="response" id="mce-success-response" style="display:none"></div>
                      </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                      <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_bbe5021ab6fbdc94a16f0d036_a69f6e4652" tabindex="-1" value=""></div>

                    </div>
                  </div>
                  <div class="small-4 medium-5 large-4 columns">
                    <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button postfix secondary">
                  </div>
                </div>
              </div>
            </form>
          </div>
          <script type="text/javascript" src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script><script type="text/javascript">(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
        </div>
      <p>
        And check out the <a href="/newsletter/">archive of newsletters</a>!
      </p>


    </div>
    <div class="columns medium-6">
      <h3>The Book</h3>
      <p>Learn how to build a Rails app with Trailblazer, step-by-step.</p>
      <a href="https://leanpub.com/trailblazer" class="button secondary">Get the book!</a>
    </div>
  </div>
</section>

<footer>
  <div class="row">
    <div class="columns medium-4">
      <div class="logo-box">
        <a href="/"><img src="/images/icon_trb.png">
        </a>
      </div>
    </div>
    <div class="columns medium-8">
      <div class="row">
        <div class="columns medium-6">
          <h4>
            Trailblazer
          </h4>
          <ul class="no-bullet">
            <li><a href="https://gitter.im/trailblazer/chat">Gitter chat</a></li>
            <li><a href="https://leanpub.com/trailblazer" onclick="trackOutboundLink('https://leanpub.com/trailblazer'); return false;">The book</a></li>
          </ul>
        </div>
        <div class="columns medium-6">
          <h4>
            Follow Us
          </h4>
          <ul class="menu">
            <li>
              <a href="https://github.com/trailblazer">
                <i class="footer-icon github-icon"></i>
              </a>
            </li>
            <li>
              <a href="https://twitter.com/apotonick">
                <i class="footer-icon twitter-icon"></i>
              </a>
            </li>
            <li>
              <a href="https://facebook.com/trbinc">
                <i class="footer-icon facebook-icon"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <p class="copyright">
        Trailblazer is created by <a href="http://www.synergysoft.com.sg/">Synergy Software Solutions Pte Ltd,</a> and awesome friends.
      </p>
      <p class="copyright">
        Site designed and handcoded with love by <a href="https://twitter.com/noeliacabane">Noelia Cabane</a>
      </p>
    </div>
  </div>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69514939-1', 'auto');
  ga('send', 'pageview');

  /**
  * Function that tracks a click on an outbound link in Analytics.
  * This function takes a valid URL string as an argument, and uses that URL string
  * as the event label. Setting the transport method to 'beacon' lets the hit be sent
  * using 'navigator.sendBeacon' in browser that support it.
  */
  var trackOutboundLink = function(url) {
     ga('send', 'event', 'outbound', 'click', url, {
       'transport': 'beacon',
       'hitCallback': function(){document.location = url;}
     });
  }
</script>



  </body>
</html>
